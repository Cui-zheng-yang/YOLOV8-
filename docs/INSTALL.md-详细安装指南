# å®‰è£…æŒ‡å—

æœ¬æ–‡æ¡£æä¾›è¯¦ç»†çš„å®‰è£…æ­¥éª¤å’Œç¯å¢ƒé…ç½®è¯´æ˜ã€‚

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### æœ€ä½é…ç½®

- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.14+, Ubuntu 18.04+
- **CPU**: 4æ ¸å¿ƒä»¥ä¸Š
- **å†…å­˜**: 8GB RAM
- **å­˜å‚¨**: 5GB å¯ç”¨ç©ºé—´
- **Python**: 3.8, 3.9, 3.10, 3.11

### æ¨èé…ç½®

- **CPU**: 8æ ¸å¿ƒä»¥ä¸Š
- **å†…å­˜**: 16GB RAM
- **GPU**: NVIDIA GPU with CUDA support (å¯é€‰ï¼Œç”¨äºåŠ é€Ÿ)
- **å­˜å‚¨**: 10GB+ SSD

## ğŸ”§ ç¯å¢ƒå‡†å¤‡

### 1. å®‰è£…Python

#### Windows

1. è®¿é—® [Pythonå®˜ç½‘](https://www.python.org/downloads/)
2. ä¸‹è½½Python 3.8+å®‰è£…åŒ…
3. è¿è¡Œå®‰è£…ç¨‹åºï¼Œ**å‹¾é€‰"Add Python to PATH"**
4. éªŒè¯å®‰è£…ï¼š
```cmd
python --version
pip --version
```

#### macOS

ä½¿ç”¨Homebrewå®‰è£…ï¼š
```bash
# å®‰è£…Homebrewï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£…Python
brew install python@3.10

# éªŒè¯
python3 --version
pip3 --version
```

#### Linux (Ubuntu/Debian)

```bash
sudo apt update
sudo apt install python3 python3-pip python3-venv
python3 --version
pip3 --version
```

### 2. å®‰è£…Git (å¯é€‰)

#### Windows
ä¸‹è½½å¹¶å®‰è£… [Git for Windows](https://git-scm.com/download/win)

#### macOS
```bash
brew install git
```

#### Linux
```bash
sudo apt install git
```

## ğŸ“¥ é¡¹ç›®å®‰è£…

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

#### Linux/macOS

```bash
# 1. ä¸‹è½½é¡¹ç›®ï¼ˆæˆ–è§£å‹é¡¹ç›®æ–‡ä»¶ï¼‰
cd fall-detection-system

# 2. ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start.sh

# 3. è¿è¡Œå¯åŠ¨è„šæœ¬
./start.sh
```

#### Windows

```cmd
REM 1. æ‰“å¼€å‘½ä»¤æç¤ºç¬¦
cd fall-detection-system

REM 2. è¿è¡Œå¯åŠ¨è„šæœ¬
start.bat
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…

#### æ­¥éª¤1: åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„

```bash
# åˆ›å»ºä¸»ç›®å½•
mkdir fall-detection-system
cd fall-detection-system

# åˆ›å»ºå­ç›®å½•
mkdir -p backend/models/weights
mkdir -p backend/utils
mkdir -p backend/api
mkdir -p backend/logs
mkdir -p frontend/src/api
mkdir -p frontend/src/utils
mkdir -p frontend/src/assets/styles
```

#### æ­¥éª¤2: å¤åˆ¶ä»£ç æ–‡ä»¶

å°†æ‰€æœ‰æä¾›çš„ä»£ç æ–‡ä»¶å¤åˆ¶åˆ°å¯¹åº”ç›®å½•ï¼š

**åç«¯æ–‡ä»¶**:
- `backend/app.py`
- `backend/config.py`
- `backend/requirements.txt`
- `backend/models/yolo_detector.py`
- `backend/models/fall_detector.py`
- `backend/models/__init__.py`
- `backend/utils/image_processor.py`
- `backend/utils/logger.py`
- `backend/utils/__init__.py`
- `backend/api/detection.py`
- `backend/api/health.py`
- `backend/api/__init__.py`

**å‰ç«¯æ–‡ä»¶**:
- `frontend/index.html`
- `frontend/src/assets/styles/main.css`

#### æ­¥éª¤3: å®‰è£…åç«¯ä¾èµ–

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/macOS:
source venv/bin/activate

# å‡çº§pip
pip install --upgrade pip

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

å¦‚æœå®‰è£…PyTorché‡åˆ°é—®é¢˜ï¼Œå¯ä»¥è®¿é—® [PyTorchå®˜ç½‘](https://pytorch.org/get-started/locally/) é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ã€‚

#### æ­¥éª¤4: ä¸‹è½½YOLOv8æ¨¡å‹

æ¨¡å‹ä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸‹è½½ï¼š

```bash
cd backend/models/weights

# ä½¿ç”¨Pythonä¸‹è½½
python -c "from ultralytics import YOLO; YOLO('yolov8n-pose.pt')"

# æˆ–ä½¿ç”¨wgetä¸‹è½½
wget https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8n-pose.pt
```

#### æ­¥éª¤5: é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

åˆ›å»º `backend/.env` æ–‡ä»¶ï¼š

```env
FLASK_ENV=development
DEBUG=True
HOST=0.0.0.0
PORT=5000
MODEL_CONFIDENCE=0.5
FALL_THRESHOLD=0.6
LOG_LEVEL=INFO
```

#### æ­¥éª¤6: å¯åŠ¨æœåŠ¡

**å¯åŠ¨åç«¯**:
```bash
cd backend
python app.py
```

**å¯åŠ¨å‰ç«¯** (æ–°ç»ˆç«¯):
```bash
cd frontend
python -m http.server 8080
```

## ğŸ¯ éªŒè¯å®‰è£…

### 1. æ£€æŸ¥åç«¯æœåŠ¡

æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:5000/api/health`

åº”è¯¥çœ‹åˆ°ï¼š
```json
{
  "status": "ok",
  "timestamp": "2025-10-02T10:30:45",
  "uptime": 3.5,
  "model": "yolov8n-pose",
  "version": "1.0.0"
}
```

### 2. æ£€æŸ¥å‰ç«¯ç•Œé¢

è®¿é—®: `http://localhost:8080`

åº”è¯¥çœ‹åˆ°ç³»ç»Ÿä¸»ç•Œé¢ã€‚

### 3. æµ‹è¯•æ£€æµ‹åŠŸèƒ½

1. ç‚¹å‡»"å›¾ç‰‡æ£€æµ‹"
2. ä¸Šä¼ ä¸€å¼ åŒ…å«äººä½“çš„å›¾ç‰‡
3. ç‚¹å‡»"å¼€å§‹æ£€æµ‹"
4. æŸ¥çœ‹æ£€æµ‹ç»“æœ

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜1: Pythonç‰ˆæœ¬ä¸å…¼å®¹

**é”™è¯¯ä¿¡æ¯**: `SyntaxError` æˆ–ç‰ˆæœ¬è­¦å‘Š

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬
python --version

# å¦‚æœç‰ˆæœ¬ < 3.8ï¼Œè¯·å‡çº§Python
```

### é—®é¢˜2: pipå®‰è£…å¤±è´¥

**é”™è¯¯ä¿¡æ¯**: `Could not find a version that satisfies the requirement`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# å‡çº§pip
pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒï¼ˆå¦‚æœåœ¨ä¸­å›½ï¼‰
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### é—®é¢˜3: PyTorchå®‰è£…å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:

æ ¹æ®ç³»ç»Ÿé€‰æ‹©åˆé€‚çš„å‘½ä»¤ï¼š

**CPUç‰ˆæœ¬**:
```bash
pip install torch torchvision --index-url https://download.pytorch.org/whl/cpu
```

**CUDA 11.8**:
```bash
pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118
```

### é—®é¢˜4: OpenCVå¯¼å…¥é”™è¯¯

**é”™è¯¯ä¿¡æ¯**: `ImportError: libGL.so.1`

**è§£å†³æ–¹æ¡ˆ** (Linux):
```bash
sudo apt install libgl1-mesa-glx
```

### é—®é¢˜5: æ¨¡å‹ä¸‹è½½å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:

æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹æ–‡ä»¶å¹¶æ”¾åˆ° `backend/models/weights/` ç›®å½•ï¼š
- ä» [Ultralyticså‘å¸ƒé¡µ](https://github.com/ultralytics/assets/releases) ä¸‹è½½ `yolov8n-pose.pt`

### é—®é¢˜6: ç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**: `Address already in use`

**è§£å†³æ–¹æ¡ˆ**:

ä¿®æ”¹ç«¯å£ï¼š
```bash
# åç«¯
python app.py  # åœ¨config.pyä¸­ä¿®æ”¹PORT

# å‰ç«¯
python -m http.server 8888  # ä½¿ç”¨å…¶ä»–ç«¯å£
```

æˆ–æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š
```bash
# Linux/macOS
lsof -ti:5000 | xargs kill -9
lsof -ti:8080 | xargs kill -9

# Windows
netstat -ano | findstr :5000
taskkill /PID <PID> /F
```

### é—®é¢˜7: CORSé”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:

ç¡®ä¿å‰ç«¯å’Œåç«¯çš„åœ°å€åŒ¹é…ï¼Œåœ¨ `frontend/index.html` ä¸­ï¼š
```javascript
const API_BASE_URL = 'http://localhost:5000/api';
```

### é—®é¢˜8: æ‘„åƒå¤´æ— æ³•è®¿é—®

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨ `localhost` æˆ– HTTPS è®¿é—®å‰ç«¯
- æ£€æŸ¥æµè§ˆå™¨æƒé™è®¾ç½®
- ç¡®ä¿æ²¡æœ‰å…¶ä»–ç¨‹åºå ç”¨æ‘„åƒå¤´

## ğŸ’¡ æ€§èƒ½ä¼˜åŒ–

### 1. ä½¿ç”¨GPUåŠ é€Ÿ

å¦‚æœæœ‰NVIDIA GPUï¼š

```bash
# å®‰è£…CUDAç‰ˆPyTorch
pip install torch torchvision --index-url https://download.pytorch.org/whl/cu118

# éªŒè¯GPUå¯ç”¨
python -c "import torch; print(torch.cuda.is_available())"
```

### 2. ä½¿ç”¨ç”Ÿäº§æœåŠ¡å™¨

```bash
# å®‰è£…Gunicorn
pip install gunicorn

# å¯åŠ¨
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

### 3. è°ƒæ•´é…ç½®

ç¼–è¾‘ `backend/config.py`:
```python
# é™ä½å›¾åƒåˆ†è¾¨ç‡
MAX_IMAGE_SIZE = (1280, 720)

# è°ƒæ•´JPEGè´¨é‡
JPEG_QUALITY = 75

# å‡å°‘å†å²å¸§æ•°
HISTORY_LENGTH = 3
```

## ğŸ“¦ æ‰“åŒ…éƒ¨ç½²

### åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

ä½¿ç”¨PyInstalleræ‰“åŒ…ï¼š

```bash
pip install pyinstaller

cd backend
pyinstaller --onefile app.py
```

### Dockeréƒ¨ç½²ï¼ˆé«˜çº§ï¼‰

åˆ›å»º `Dockerfile`:

```dockerfile
FROM python:3.10-slim

WORKDIR /app
COPY backend/ /app/
RUN pip install -r requirements.txt

CMD ["python", "app.py"]
```

æ„å»ºå’Œè¿è¡Œï¼š
```bash
docker build -t fall-detection .
docker run -p 5000:5000 fall-detection
```

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°å…¶ä»–é—®é¢˜ï¼š

1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶: `backend/logs/app.log`
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
3. æäº¤Issueå¹¶é™„å¸¦ï¼š
   - æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬
   - Pythonç‰ˆæœ¬
   - å®Œæ•´é”™è¯¯ä¿¡æ¯
   - æ—¥å¿—æ–‡ä»¶

## âœ… ä¸‹ä¸€æ­¥

å®‰è£…æˆåŠŸåï¼Œè¯·é˜…è¯» [README.md](README.md) äº†è§£ç³»ç»Ÿä½¿ç”¨æ–¹æ³•ã€‚

---

**å®‰è£…æˆåŠŸåï¼Œå°½æƒ…ä½¿ç”¨å§ï¼ğŸ‰**